# Памятка по подготовке к секции Python 

## 1. Основы Python: язык

**Python** — это высокоуровневый, интерпретируемый, динамически типизированный язык программирования с автоматическим управлением памятью.  
Он сочетает простоту синтаксиса с мощными возможностями для работы с данными, объектно-ориентированным и функциональным стилями программирования.  
Основная реализация — **CPython**, написанная на C. Именно она выполняет байткод Python, управляет памятью и содержит глобальную блокировку интерпретатора (GIL).

---

## Интерпретатор

Python работает как интерпретатор с компиляцией в байткод, выполняемый виртуальной машиной.
Процесс включает:
* токенизацию → построение AST → компиляцию в байткод → выполнение байткода,
* управление памятью через счетчик ссылок и сборщик мусора,
* обработку ошибок, стековые фреймы для функций и глобальную блокировку GIL для потоков.

| №  | Этап                              | Описание |
|----|-----------------------------------|-----------|
| 1  | Чтение исходного кода             | Интерпретатор открывает `.py` файл, читает текст в кодировке UTF-8. |
| 2  | Лексический анализ (tokenize)     | Исходный текст разбивается на токены: ключевые слова, идентификаторы, литералы, отступы, операторы. |
| 3  | Синтаксический анализ (AST)       | Из токенов строится абстрактное синтаксическое дерево (AST), где описана структура кода. |
| 4  | Проверки и оптимизация AST         | Выполняются проверки синтаксиса и простые оптимизации (например, объединение строк). |
| 5  | Компиляция в байткод              | AST компилируется в байткод (набор инструкций для виртуальной машины CPython). Создаются объекты `code`. |
| 6  | Кэширование байткода (.pyc)       | При импорте модулей байткод сохраняется в `__pycache__` для ускорения повторного запуска. |
| 7  | Импорт модулей                    | При `import` интерпретатор ищет модуль, компилирует и исполняет его, создавая запись в `sys.modules`. |
| 8  | Создание объектов и namespace     | Создаются глобальные области видимости (`globals`), функции, классы и их словари имён. |
| 9  | Исполнение байткода (VM)          | Виртуальная машина CPython (`PyEval_EvalFrameDefault`) выполняет инструкции байткода, используя стек. |
| 10 | Вызов функций и создание фреймов  | При вызове создаётся новый стековый фрейм с локальными переменными и ссылкой на `code object`. |
| 11 | Обработка исключений              | При ошибках создаются объекты исключений, ищутся блоки `try/except`, формируется traceback. |
| 12 | Управление памятью                | Используется счётчик ссылок (reference counting) и сборщик мусора для циклических ссылок. |
| 13 | GIL (Global Interpreter Lock)     | Глобальная блокировка, позволяющая исполняться только одному потоку Python-кода одновременно. |
| 14 | Работа с C-расширениями           | C-модули могут взаимодействовать с CPython API и при необходимости временно освобождать GIL. |
| 15 | Завершение работы интерпретатора  | Освобождаются ресурсы, вызываются `atexit`-функции, очищаются модули и память. |

---

```
          ┌─────────────────────────────┐
          │     Исходный код Python      │
          │        (файл .py)           │
          └──────────────┬─────────────┘
                         │
                         ▼
          ┌─────────────────────────────┐
          │      Чтение файла в строку  │
          └──────────────┬─────────────┘
                         │
                         ▼
          ┌─────────────────────────────┐
          │    Лексический анализ       │
          │      (токенизация)         │
          │  Ключевые слова, ID,       │
          │  числа, строки, операторы  │
          └──────────────┬─────────────┘
                         │
                         ▼
          ┌─────────────────────────────┐
          │  Синтаксический анализ      │
          │      (AST)                  │
          │  Дерево выражений и блоков  │
          └──────────────┬─────────────┘
                         │
                         ▼
          ┌─────────────────────────────┐
          │  Проверка и оптимизация AST │
          │  (скобки, порядок операций) │
          └──────────────┬─────────────┘
                         │
                         ▼
          ┌─────────────────────────────┐
          │ Компиляция AST в байткод     │
          │   (code object)             │
          └──────────────┬─────────────┘
                         │
                         ▼
          ┌─────────────────────────────┐
          │  Кэширование байткода (.pyc)│
          │  (для ускорения импорта)    │
          └──────────────┬─────────────┘
                         │
                         ▼
          ┌─────────────────────────────┐
          │ Импорт модулей              │
          │ (поиск, компиляция, exec)  │
          └──────────────┬─────────────┘
                         │
                         ▼
          ┌─────────────────────────────┐
          │ Создание объектов и namespace│
          │  Переменные, функции, классы│
          └──────────────┬─────────────┘
                         │
                         ▼
          ┌─────────────────────────────┐
          │ Исполнение байткода VM       │
          │  (PyEval_EvalFrameDefault)  │
          │  Стек, операции, выражения  │
          └──────────────┬─────────────┘
                         │
             ┌───────────┴───────────────┐
             │                           │
             ▼                           ▼
 ┌───────────────────────┐       ┌─────────────────────┐
 │ Вызов функций и фреймы │       │ Обработка исключений │
 │ Локальные переменные, │       │ try/except, traceback│
 │ стек вызовов           │       └─────────────────────┘
 └───────────────┬────────┘
                 │
                 ▼
       ┌─────────────────────┐
       │ Управление памятью  │
       │ Ref-count + GC      │
       └───────────────┬─────┘
                       │
                       ▼
             ┌───────────────────┐
             │ Завершение работы  │
             │ Освобождение ресурсов│
             └───────────────────┘
```

---

## Вопросы

| №  | Вопрос                                                                 | Ответ |
|----|------------------------------------------------------------------------|-------|
| 1  | Что такое Python и чем отличается его основная реализация CPython?     | Python — высокоуровневый, интерпретируемый, динамически типизированный язык. CPython — основная реализация на C, выполняет байткод, управляет памятью и содержит GIL. |
| 2  | Какие основные этапы выполнения Python-кода от файла до результата?    | Чтение кода → Токенизация → AST → Оптимизация AST → Компиляция в байткод → Кэширование (.pyc) → Импорт модулей → Создание объектов/namespace → Исполнение байткода → Вызов функций и фреймы → Исключения → Управление памятью → GIL → Завершение работы интерпретатора. |
| 3  | Для чего используется токенизация?                                      | Токенизация разбивает исходный код на отдельные элементы (токены): ключевые слова, идентификаторы, литералы, операторы, скобки. |
| 4  | Что такое AST и зачем оно нужно?                                        | AST — абстрактное синтаксическое дерево. Оно отражает структуру кода и используется для проверки синтаксиса, оптимизации и компиляции в байткод. |
| 5  | Как Python управляет памятью?                                           | Через счетчик ссылок (reference counting) и сборщик мусора для циклических ссылок. |
| 6  | Что такое GIL и зачем он нужен?                                         | GIL (Global Interpreter Lock) — глобальная блокировка, которая позволяет исполняться только одному потоку Python-кода одновременно, защищая внутренние структуры CPython. |
| 7  | Чем байткод отличается от исходного кода Python?                        | Байткод — промежуточное представление, набор инструкций для виртуальной машины Python, создаётся из AST и исполняется VM. |
| 8  | Что происходит при импорте модуля?                                      | Интерпретатор ищет файл модуля, компилирует в байткод, исполняет его, добавляет объект модуля в `sys.modules`, при необходимости сохраняет `.pyc`. |
| 9  | Как Python обрабатывает исключения?                                     | При ошибках создаются объекты исключений, ищутся блоки `try/except`, формируется traceback, управление передаётся обработчику. |
| 10 | Какие структуры данных используются при исполнении функций в Python?   | Стековый фрейм (Frame) с локальными переменными, ссылкой на глобальные переменные и `code object`. Стек внутри фрейма используется для вычислений. |
| 11 | Как Python кэширует байткод и зачем?                                     | Байткод сохраняется в `.pyc` в `__pycache__` для ускорения повторного запуска без повторной компиляции. |


## 2. Основы Python: синтаксис и базовые конструкции

### Типы данных
- `int`, `float`, `complex`, `bool`, `str`, `None`
- Преобразования типов, проверка `type()`, `isinstance()`

### Коллекции
- `list`, `tuple`, `set`, `frozenset`, `dict`
- Индексация, срезы, итерирование
- Методы коллекций: `append`, `pop`, `remove`, `update`, `get`

### Операторы
- Арифметические, сравнения, логические, побитовые
- `in`, `is`, `not`

### Условные конструкции и циклы
- `if / elif / else`
- `for`, `while`, `break`, `continue`, `else` в циклах

### Функции
- Определение `def`, аргументы: позиционные, именованные, `*args`, `**kwargs`
- Возврат значений `return`
- Вложенные функции и области видимости

---

## 2. Работа с коллекциями и итераторами
- List / dict / set comprehensions
- Итераторы и генераторы: `yield`, `next()`, `iter()`
- Модуль `itertools`: `count`, `cycle`, `chain`, `combinations`
- Функции высшего порядка: `map`, `filter`, `zip`, `sorted`, `all`, `any`
- Модуль `functools`: `reduce`, `lru_cache`
- Лямбда-функции
- Работа с множествами: `union`, `intersection`, `difference`

---

## 3. Обработка ошибок и продвинутое управление потоком
- `try / except / else / finally`
- `raise`, пользовательские исключения
- `contextlib` и `with` для контекстных менеджеров
- `assert` для проверок

---

## 4. Работа с функциями и объектами
- Декораторы
- Замыкания
- Аннотации типов (`typing`: `List`, `Dict`, `Optional`, `Union`)
- `functools.partial` и другие утилиты

---

## 5. Классы и объектно-ориентированное программирование

### Основы классов
- `class`, `__init__`, `self`
- Методы экземпляра, класса, статические методы

### Наследование и полиморфизм
- `super()`, множественное наследование

### Специальные методы
- `__str__`, `__repr__`, `__eq__`, `__lt__`, `__len__`, `__getitem__`, `__setitem__`

### Инкапсуляция
- Публичные, защищённые (`_name`) и приватные (`__name`)

### Абстрактные базовые классы
- `abc`, `abstractmethod`

### Контекстные менеджеры
- Реализация `__enter__` и `__exit__`

---

## 6. Работа с файлами и данными
- Чтение и запись файлов (`open`, `with`)
- CSV, JSON, pickle
- `pathlib`, `os`, `shutil`, `tempfile`
- XML: `xml.etree.ElementTree`, `xml.dom`, `xml.sax`
- `struct` для бинарных данных

---

## 7. Дата и время
- `time`, `datetime`, `calendar`
- `zoneinfo`
- `sched` для планирования событий

---

## 8. Сеть и интернет
- `socket`, `ssl`
- `http.client`, `http.server`
- `urllib.request`, `urllib.parse`, `urllib.error`
- FTP / SMTP / IMAP: `ftplib`, `smtplib`, `imaplib`
- XML-RPC: `xmlrpc.client`, `xmlrpc.server`
- `asyncio`, `select`, `selectors`

---

## 9. Многопоточность и параллелизм
- `threading`, `multiprocessing`
- `concurrent.futures`
- `asyncio`, `sched`
- Различие между потоками и процессами

---

## 10. Тестирование и отладка
- `unittest`, `doctest`, `unittest.mock`
- `logging`, `warnings`
- `pdb`, `traceback`, `faulthandler`, `tracemalloc`
- `timeit`, `cProfile`, `profile`, `trace`

---

## 11. Безопасность и криптография
- `hashlib`, `hmac`, `secrets`, `getpass`

---

## 12. Продвинутая работа с системой и ресурсами
- `sys`, `platform`, `subprocess`, `signal`, `atexit`
- `resource`, `pwd`, `grp`, `fcntl` (Unix)
- `msvcrt` (Windows)
- `gc`, `uuid`
- `zipfile`, `tarfile`, `gzip`, `bz2`, `lzma`
- `shlex` для разбора командной строки

---

# Стандартная библиотека Python 3.10+ с кратким описанием

| Модуль | Цель / описание |
|--------|----------------|
| array | Массивы чисел фиксированного типа, эффективное хранение числовых массивов |
| collections | Расширенные структуры данных (deque, Counter, defaultdict), удобное хранение и подсчёт элементов |
| collections.abc | Абстрактные базовые классы коллекций, определение интерфейсов коллекций |
| heapq | Куча (heap) для приоритетной очереди, работа с приоритетными элементами |
| bisect | Быстрая вставка и поиск в отсортированных списках |
| queue | Очереди и стеки для многопоточности, безопасная работа с потоками |
| functools | Функциональные утилиты (reduce, lru_cache, декораторы), оптимизация кода |
| itertools | Итераторы и комбинаторные функции, генерация последовательностей и комбинаций |
| operator | Функции для операций с объектами, альтернатива встроенным операторам |
| types | Типы объектов и проверки типов |
| copy | Копирование объектов (copy, deepcopy) |
| weakref | Слабые ссылки на объекты, предотвращение утечек памяти |
| enum | Перечисления (Enum), фиксированные множества значений |
| math | Математические функции для вещественных чисел |
| cmath | Математические функции для комплексных чисел |
| decimal | Точная десятичная арифметика, финансовые и точные вычисления |
| fractions | Дроби (Fraction), работа с рациональными числами |
| random | Генерация случайных чисел, выбор случайных элементов |
| statistics | Статистические функции (среднее, медиана, дисперсия) |
| numbers | Абстрактные числовые типы |
| string | Константы и утилиты для работы со строками |
| re | Регулярные выражения, поиск и обработка текста |
| difflib | Сравнение строк и последовательностей, генерация diff |
| textwrap | Форматирование текста (обертка, отступы) |
| unicodedata | Работа с Unicode-символами |
| stringprep | Поддержка стандартов сетевых строк |
| codecs | Работа с кодировками |
| time | Метки времени и функции времени |
| datetime | Работа с датой и временем |
| calendar | Работа с календарями и датами |
| zoneinfo | Работа с часовыми поясами |
| sched | Планирование событий по времени |
| os | Работа с операционной системой и файлами |
| os.path | Работа с путями файловой системы |
| pathlib | Объектно-ориентированные пути, удобная работа с файловой системой |
| shutil | Копирование, удаление, работа с архивами |
| glob | Поиск файлов по шаблону |
| tempfile | Временные файлы и директории |
| fileinput | Чтение и обработка нескольких файлов как одного потока |
| fnmatch | Сравнение имен файлов по шаблону |
| linecache | Доступ к строкам файлов по номеру |
| json | Чтение и запись JSON |
| pickle | Сериализация и десериализация объектов Python |
| copyreg | Настройка сериализации пользовательских классов для pickle |
| marshal | Низкоуровневая сериализация Python-объектов |
| struct | Работа с бинарными данными фиксированного формата |
| csv | Чтение и запись CSV-файлов |
| configparser | Работа с конфигурационными INI-файлами |
| xml.etree.ElementTree | Работа с XML в виде дерева |
| xml.dom | Работа с XML через DOM |
| xml.sax | SAX-парсер для XML, событийная обработка |
| sqlite3 | Работа с SQLite-базами данных |
| abc | Абстрактные базовые классы |
| dataclasses | Автоматическая генерация классов с данными |
| typing | Аннотации типов и Generic-классы |
| contextlib | Контекстные менеджеры и утилиты для with |
| traceback | Обработка и вывод стека вызовов |
| inspect | Инспекция объектов Python |
| warnings | Предупреждения и их фильтрация |
| logging | Логирование сообщений |
| pdb | Пошаговая отладка |
| faulthandler | Вывод трассировки при сбоях |
| tracemalloc | Отслеживание использования памяти |
| unittest | Модуль для тестирования |
| doctest | Тестирование по примерам в документации |
| unittest.mock | Мок-объекты для тестирования |
| timeit | Измерение времени выполнения кода |
| cProfile | Профилирование времени выполнения функций |
| profile | Профилирование кода |
| trace | Трассировка выполнения |
| socket | Работа с сетевыми соединениями |
| ssl | Шифрование соединений |
| asyncio | Асинхронное программирование |
| select | Ожидание готовности ввода/вывода |
| selectors | Высокоуровневая обертка над select |
| http.client | HTTP-клиент |
| http.server | HTTP-сервер |
| http.cookies | Работа с cookies |
| urllib.request | HTTP-запросы |
| urllib.parse | Парсинг URL |
| urllib.error | Ошибки urllib |
| ftplib | FTP-клиент |
| smtplib | SMTP-клиент для отправки почты |
| poplib | POP3-клиент |
| imaplib | IMAP-клиент |
| telnetlib | Telnet-клиент |
| xmlrpc.client | XML-RPC клиент |
| xmlrpc.server | XML-RPC сервер |
| cgi | CGI-обработка |
| cgitb | Красивый вывод ошибок CGI |
| hashlib | Хеш-функции |
| hmac | HMAC (ключевые хеши) |
| secrets | Генерация криптографически стойких случайных чисел |
| getpass | Скрытый ввод пароля |
| threading | Потоки |
| multiprocessing | Процессы |
| concurrent.futures | Абстракция для потоков и процессов |
| sys | Доступ к системным параметрам |
| platform | Информация о платформе |
| subprocess | Запуск внешних процессов |
| signal | Работа с сигналами |
| atexit | Действия при завершении программы |
| errno | Стандартные коды ошибок |
| getopt | Разбор аргументов командной строки |
| argparse | Продвинутый разбор аргументов |
| resource | Работа с ресурсами процесса (Unix) |
| pwd | Пользователи Unix |
| grp | Группы Unix |
| fcntl | Управление файловыми дескрипторами (Unix) |
| msvcrt | Работа с консолью Windows |
| gc | Сборщик мусора |
| uuid | Генерация уникальных идентификаторов |
| zipfile | Работа с ZIP-архивами |
| tarfile | Работа с TAR-архивами |
| gzip | Работа с gzip |
| bz2 | Работа с bzip2 |
| lzma | Работа с LZMA |
| shlex | Разбор командной строки на токены |
